<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/pokerl/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=pokerl/livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Risk Management
  #

Even though I simplified the game, I still needed risk mitigation. Pokémon contains numerous game ending risks including:

Permanently losing vital Pokémon
Catching Pokémon and not having enough space for the Lapras or any other Pokémon that can learn Surf
Item management. If the agent obtains too many items, then there may not be enough room for key items
Money management. It is possible to soft-lock if you cannot obtain any more money at the time the Safari Zone objectives need to be completed.
Only having Pokémon with non-damaging moves.

I’d like to emphasize again that none of these issues require teaching the agent how to best Pokémon battles.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/pokerl/docs/chapter-1/breakdown/risk_management/">
  <meta property="og:site_name" content="Pokémon RL">
  <meta property="og:title" content="Risk Management">
  <meta property="og:description" content="Risk Management # Even though I simplified the game, I still needed risk mitigation. Pokémon contains numerous game ending risks including:
Permanently losing vital Pokémon Catching Pokémon and not having enough space for the Lapras or any other Pokémon that can learn Surf Item management. If the agent obtains too many items, then there may not be enough room for key items Money management. It is possible to soft-lock if you cannot obtain any more money at the time the Safari Zone objectives need to be completed. Only having Pokémon with non-damaging moves. I’d like to emphasize again that none of these issues require teaching the agent how to best Pokémon battles.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Risk Management | Pokémon RL</title>
<link rel="icon" href="/pokerl/favicon.png" >
<link rel="manifest" href="/pokerl/manifest.json">
<link rel="canonical" href="http://localhost:1313/pokerl/docs/chapter-1/breakdown/risk_management/">
<link rel="stylesheet" href="/pokerl/book.min.20566c4d69204c7b44949aa70a954a16ae963f6de14a8871d403b3c690ffd867.css" integrity="sha256-IFZsTWkgTHtElJqnCpVKFq6WP23hSohx1AOzxpD/2Gc=" crossorigin="anonymous">
  <script defer src="/pokerl/fuse.min.js"></script>
  <script defer src="/pokerl/en.search.min.d74caf9e1f37654616fc5cd17d34e8f594f7ef9b66d47cc5300f616d0a8ac500.js" integrity="sha256-10yvnh83ZUYW/FzRfTTo9ZT375tm1HzFMA9hbQqKxQA=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/pokerl/"><span>Pokémon RL</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <span>Chapter 1: RL and the Pokémon Environment</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/the-loop/" class="">RL Quickstart</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/env-setup/" class="">Setting up the Environment</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Breaking Down Pokémon</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/breakdown/intro/" class="">Intro</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/breakdown/battling/" class="">Battling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/breakdown/8badges/" class="">The 8 Badges</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/breakdown/field_interactions/" class="">Field Interactions and Exploration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/breakdown/team_rocket/" class="">Team Rocket</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/breakdown/route/" class="">The &#34;Route&#34;</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-1/breakdown/risk_management/" class="active">Risk Management</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Chapter 2: Observations, Rewards, and Policy</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-2/observations/" class="">Observations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-2/rewards/" class="">Rewards</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-2/policy/" class="">Policy</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Chapter 3: Building and Running the System</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-3/running/" class="">Running</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-3/reading-asm/" class="">Reading RAM</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-3/metrics/" class="">Metrics and Visualization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-3/swarm/" class="">The Swarm</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Chapter 4: Concluding Thoughts</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-4/results/" class="">Results</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pokerl/docs/chapter-4/future/" class="">Future</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/pokerl/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Risk Management</h3>

  <label for="toc-control">
    
    <img src="/pokerl/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#scripting-vs-emergence">Scripting vs. Emergence</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="risk-management">
  Risk Management
  <a class="anchor" href="#risk-management">#</a>
</h1>
<p>Even though I simplified the game, I still needed risk mitigation. Pokémon contains numerous game ending risks including:</p>
<ul>
<li>Permanently losing vital Pokémon</li>
<li>Catching Pokémon and not having enough space for the Lapras or any other Pokémon that can learn Surf</li>
<li>Item management. If the agent obtains too many items, then there may not be enough room for key items</li>
<li>Money management. It is possible to soft-lock if you cannot obtain any more money at the time the Safari Zone objectives need to be completed.</li>
<li>Only having Pokémon with non-damaging moves.</li>
</ul>
<p>I’d like to emphasize again that <em>none</em> of these issues require teaching the agent how to best Pokémon battles.</p>
<h2 id="scripting-vs-emergence">
  Scripting vs. Emergence
  <a class="anchor" href="#scripting-vs-emergence">#</a>
</h2>
<p>To handle these risks and difficulties, I split agent behavior into two classes:</p>
<ul>
<li><strong>Scripted:</strong> Meaning actions taken by the agent not controlled by the policy.</li>
<li><strong>Emergent:</strong> Allowing the agent to discover its own strategies.</li>
</ul>
<p>Ideally, no scripted behavior would be needed. However, I needed scripts. I aimed to only script behaviors that require human intuition or tasks that are not really a core part of Pokémon. These included.</p>
<ul>
<li>Item management - the agent will toss all non-key items if the agent fills their inventory.</li>
<li>Money management - the agent will have infinite money.</li>
<li>Solving puzzles that require Strength.</li>
<li>Blocking the Indigo Plateau exit at the end of the game.</li>
</ul>
<p>To make development easier, I wrote scripts to remove the following complexity and speed up development. These scripts can disabled for a successful run, but were invaluable during development. They included</p>
<ul>
<li>Teaching HMs.</li>
<li>Using HMs outside of battle.</li>
<li>Using Pokéflute.</li>
<li>Maxxing the Pokémon’s stats.</li>
<li>Automatic insertion of drinks for the Saffron guards if the agent <em>entered</em> the Celadon Mart.</li>
<li>Automating elevator usage. If an agent entered an elevator, the elevator would go to the next floor modulo number of floors.</li>
<li>Disabling wild battles to simplify dungeons.</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#scripting-vs-emergence">Scripting vs. Emergence</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












